---
export const prerender = false
import Layout from '../../layouts/Layout.astro'
import CardBuses from '../../components/CardBuses.jsx'
import '../../styles/global.css'
import UserHandle from '@/components/UserHandle'

const cookie = Astro.request.headers.get('cookie')
const cookies = Object.fromEntries(
    cookie?.split('; ').map((cookie) => cookie.split('=')) ?? [],
)

let privilegio = false

if (cookies.id_role == 1) privilegio = true
---

<Layout>
    <h1 class="text-center text-4xl font-bold mb-10 pt-10">BusFinder</h1>
    <div class="mb-10 flex justify-center">
        <a
            href="en/go"
            class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"
            >Find Root</a
        >
        {
            privilegio && (
                <a
                    href="en/administrador"
                    class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"
                >
                    Administrator Page
                </a>
            )
        }
    </div>

    <div class="ml-10 mr-10 flex justify-center">
        <CardBuses client:load />
    </div>
</Layout>
